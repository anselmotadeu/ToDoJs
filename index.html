<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kanban Board</title>
  <!-- Importa o arquivo CSS que contém os estilos do Kanban Board -->
  <link rel="stylesheet" href="kanbam.css">

  <!-- Importar o Popper.js de um CDN -->
<script src="https://unpkg.com/@popperjs/core@2"></script>

  <!-- Bootstrap CSS (Bootstrap 4) -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">

  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <!-- Importa o jQuery para facilitar a manipulação do DOM e a interação com o usuário -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <!-- Bootstrap JavaScript (Bootstrap 4) -->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script>
</head>
<body>
  <!-- Cria um container para o Kanban Board -->
  <div class="container">
    <!-- Cria uma div para o cabeçalho do Kanban Board -->
    <div class="header">
      <!-- Cria um h1 para o título do Kanban Board -->
      <h1>Kanban Board</h1>
    </div>

    <!-- Adiciona um formulário para adicionar tarefas -->
    <form id="task-form" class="mt-3">
      <div class="form-group">
        <label for="name">Nome da Tarefa</label>
        <input type="text" class="form-control" id="name" required maxlength="30">
        <div id="name-error" class="text-danger"></div>
      </div>    
      <div class="form-group">
        <label for="hours">Horas Previstas</label>
        <input type="number" class="form-control" id="hours" required pattern="^(0[0-9]|1[0-9]|2[0-3])([0-5][0-9])?$" title="Insira o tempo no formato HHMM (ex: 0200 para 2 horas, 0030 para 30 minutos)">
    </div>    
    <div class="form-group">
      <label for="comment">Comentário (opcional)</label>
      <textarea class="form-control" id="comment" rows="3" maxlength="200"></textarea>
      <span id="char-count" class="text-muted float-right">200/200</span>
    </div>    
      <button type="submit" class="btn btn-success">Adicionar tarefa</button>
    </form>

    <!-- Adiciona um ícone de lápis para editar a tarefa -->
    <span class="edit-icon" onclick="editTask(event)">
      <!-- <i class="fas fa-pencil-alt"></i> -->
    </span>

    <!-- Adiciona um ícone de lixeira para excluir a tarefa -->
    <span class="delete-icon" onclick="confirmDeleteTask(event)">
      <!-- <i class="fas fa-trash-alt"></i> -->
    </span>

    <!-- Cria uma div para os contadores de tarefas -->
    <div class="counters">
      <!-- Cria um span para exibir o número total de tarefas -->
      <!-- <span>Total: <span id="total-counter">0</span></span> -->

      <!-- Cria um span para exibir o número de tarefas a fazer -->
      <span><b>A fazer:</b> <span id="todo-counter">0</span></span>
      <!-- Cria um span para exibir o número de tarefas em andamento -->
      <span><b>Em andamento:</b> <span id="doing-counter">0</span></span>
      <!-- Cria um span para exibir o número de tarefas concluídas -->
      <span><b>Concluído:</b> <span id="done-counter">0</span></span>
    </div>
    <!-- Cria uma div para as colunas do Kanban Board -->
    <div class="columns">
      <!-- Cria uma div para a coluna "A fazer" -->
      <div class="column todo">
        <h2>A fazer</h2>
        <div class="tasks" id="todo-column"></div>
      </div>
      <!-- Cria uma div para a coluna "Em andamento" -->
      <div class="column doing">
        <h2>Em andamento</h2>
        <div class="tasks" id="doing-column"></div>
      </div>
      <!-- Cria uma div para a coluna "Concluído" -->
      <div class="column done">
        <h2>Concluído</h2>
        <div class="tasks" id="done-column"></div>
      </div>
    </div>
  </div>

  <!-- Modal de Edição -->
<div class="modal fade" id="editTaskModal" tabindex="-1" role="dialog" aria-labelledby="editTaskModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="editTaskModalLabel">Editar Tarefa</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form id="editTaskForm">
          <div class="form-group">
            <label for="editName">Nome da Tarefa</label>
            <input type="text" class="form-control" id="editName" required maxlength="30">
          </div>    
          <div class="form-group">
            <label for="editHours">Horas Previstas</label>
            <input type="number" class="form-control" id="editHours" required pattern="^(0[0-9]|1[0-9]|2[0-3])([0-5][0-9])?$" title="Insira o tempo no formato HHMM (ex: 0200 para 2 horas, 0030 para 30 minutos)">
          </div>    
          <div class="form-group">
            <label for="editComment">Comentário (opcional)</label>
            <textarea class="form-control" id="editComment" rows="3" maxlength="200"></textarea>
          </div>
          <button type="submit" class="btn btn-primary">Salvar Alterações</button>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- Modal de Confirmação de Exclusão -->
<div class="modal fade" id="deleteTaskModal" tabindex="-1" role="dialog" aria-labelledby="deleteTaskModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="deleteTaskModalLabel">Confirmar Exclusão</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body text-center">
        <p>Tem certeza de que deseja excluir esta tarefa?<br>Esta ação é irreversível.</p>
    </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-danger" id="confirmDeleteButton">Confirmar Exclusão</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="customAlertModal" tabindex="-1" role="dialog" aria-labelledby="customAlertModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="customAlertModalLabel">Atenção</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="customAlertMessage">
        <!-- Mensagem personalizada será exibida aqui -->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">OK</button>
      </div>
    </div>
  </div>
</div>

  <!-- Importa o arquivo JavaScript que contém a lógica do Kanban Board -->
  <script src="kanbam.js"></script>
</body>
</html>